function resetUI(){$("#student-name").removeClass(),$("#student-name").text(""),$(".grading-area").html("")}function updatePluginStatus(a){var b=!1;a.pluginName===PLUGIN_NAME&&a.active&&(b=!0),updateButtonLaunch(b)}function updateButtonLaunch(a){isActive=a;var b=$("#buttonLaunch");a?(b.text("End "+PLUGIN_TITLE),b.removeClass("btn-success"),b.addClass("btn-danger")):(b.text("Launch "+PLUGIN_TITLE),b.removeClass("btn-danger"),b.addClass("btn-success"))}function processResults(a){var b=a.studentResults;b.marked&&(b.marked.isCorrect?($("#student-name").removeClass("answer-wrong"),$("#student-name").addClass("answer-correct")):($("#student-name").removeClass("answer-correct"),$("#student-name").addClass("answer-wrong")))}function studentBlink(a){var b=a.studentName;$("#student-name").text(b),$("#student-name").removeClass(),$("#student-name").addClass("color-bombing"),$(".grading-area").html("")}function studentChosen(a){var b=a.studentName;$("#student-name").text(b),$("#student-name").removeClass(),$("#student-name").addClass("color-bombed");var c=a,d=$("#templateMark").html(),e=$("#templateBehaviour").html(),f=_.template(d,{data:{studentID:a.studentID,studentNumber:0,marked:!1,isCorrect:!1}}),g=_.template(e,{data:{studentID:a.studentID,studentNumber:0,merited:!1,isGood:!1}});$(".grading-area").html(f+g),c.marked&&(c.marked.isCorrect?($("#student-name").removeClass("answer-wrong"),$("#student-name").addClass("answer-correct")):($("#student-name").removeClass("answer-correct"),$("#student-name").addClass("answer-wrong")))}var PLUGIN_NAME="RANDOMIZER",PLUGIN_TITLE="Randomizer",isActive=!1,selectedStudentID;$(document).ready(function(){parent.isTeacher&&(parent.pluginToServer(PLUGIN_NAME,"TeacherOpen",{}),parent.document.plugin&&parent.document.plugin.pluginName===PLUGIN_NAME&&updateButtonLaunch(!0),$(document).on("PluginStatus",function(a,b){if(parent){var c=b.detail;switch(c.type){case"UpdatePluginStatus":updatePluginStatus(c)}}}),$(document).on("ServerToPlugin"+PLUGIN_NAME,function(a,b){var c=b.detail;switch(c.pluginMessageType){case"StudentJoin":break;case"StudentBlink":studentBlink(c.data);break;case"StudentChosen":studentChosen(c.data);break;case"Results":processResults(c.data)}})),$(document).on("click",'button[id^="buttonLaunch"]',function(){var a=!1;if(isActive)parent.pluginToServer(PLUGIN_NAME,"EndActivity",{}),a=!1;else{if(_.size(_.flatten(parent.document.students.grouping))<2)return void parent.bootbox.alert("At least 2 students are required");var b=Math.floor(5*Math.random()+1),c={time:b};parent.pluginToServer(PLUGIN_NAME,"StartActivity",c),a=!0}updateButtonLaunch(a),resetUI(),$("#student-name").text("Get ready!")}),$(document).on("click",'button[id^="buttonReset"]',function(){resetUI();var a=Math.floor(5*Math.random()+1),b={time:a};parent.pluginToServer(PLUGIN_NAME,"ResetActivity",b)}),$(document).on("click",".button-correct, .button-wrong",function(a){a.preventDefault();var b=$(a.target).closest(".marking")[0];b=$(b);var c=(b.id,b.attr("data-student-id")),d=0;d=parseInt(d);var e=$("#student-name"),f=!1;$(a.target).hasClass("button-correct")||$(a.target).parent().hasClass("button-correct")?(f=!0,e.addClass("answer-correct"),e.removeClass("answer-wrong")):(e.addClass("answer-wrong"),e.removeClass("answer-correct")),dataToSend={studentID:c,studentNumber:d,isCorrect:f},parent.pluginToServer(PLUGIN_NAME,"MarkAnswer",dataToSend)}),$(document).on("click",".button-good, .button-bad",function(a){a.preventDefault();var b=$(a.target).closest(".marking")[0];b=$(b);var c=(b.id,b.attr("data-student-id")),d=0;d=parseInt(d);var e=!1;($(a.target).hasClass("button-good")||$(a.target).parent().hasClass("button-good"))&&(e=!0),dataToSend={studentID:c,studentNumber:d,isGood:e},parent.pluginToServer(PLUGIN_NAME,"MeritStudent",dataToSend)})});
//# sourceMappingURL=randomizerTeacher.min.js.map