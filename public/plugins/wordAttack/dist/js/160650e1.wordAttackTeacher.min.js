function updatePluginStatus(a){var b=!1;a.pluginName===PLUGIN_NAME&&a.active&&(b=!0),updateButtonLaunch(b)}function updateButtonLaunch(a){isActive=a;var b=$("#buttonLaunch");a?(b.text("End "+PLUGIN_TITLE),b.removeClass("btn-success"),b.addClass("btn-danger"),$("#buttonNextWord").show(),$("#buttonRevealAnswer").show()):(b.text("Launch "+PLUGIN_TITLE),b.removeClass("btn-danger"),b.addClass("btn-success"),$("#buttonNextWord").hide(),$("#buttonRevealAnswer").hide())}function getUrlVars(){{var a={},b=decodeURIComponent(document.location.href);b.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d})}return a}function initWordLists(){var a=JSON.parse(parent.$("#data-session").html()),b=a.wordLists;console.log(b);var c=_.template($("#templateWordLists").html()),d="",e="";_.each(b,function(a,b){var f,g=!1;0===b?f=!0:1===b&&(g=!0),d+=c({wordList:a,isFirst:f}),e+=c({wordList:a,isFirst:g})}),$("#comboWordLists1").html(d),$("#comboWordLists2").html(e)}function processResults(a){var b=a.studentAnswers;generateChart(b,a.categories)}function processRevealAnswer(a){var b=a.studentAnswers,c=a.answer;generateChartReveal(b,a.categories,c)}function generateChart(a,b){var c=new google.visualization.DataTable;c.addColumn("number","#"),c.addColumn("string",""),c.addColumn("string",b.title1),c.addColumn("string",b.title2);var d=[];_.each(a,function(a,b){d.push([b+1,a.studentName,"?","?"])}),c.addRows(d);var e=new google.visualization.Table(document.getElementById("table_div"));e.draw(c,{showRowNumber:!1}),$('.google-visualization-table-th:contains("#")').css("width","30px"),$('.google-visualization-table-th:contains("Words")').css("width","30px")}function generateChartReveal(a,b,c){var d=new google.visualization.DataTable;d.addColumn("number","#"),d.addColumn("string",""),1===c?(b.title1+=" ✓ ",b.title2+=" X "):(b.title1+=" X ",b.title2+=" ✓ "),d.addColumn("string",b.title1),d.addColumn("string",b.title2);var e=[];_.each(a,function(a,b){var c,d="",f="";c=a.isCorrect?$("#templateCorrect").html():$("#templateWrong").html(),1===a.choice?d=c:f=c,e.push([b+1,a.studentName,d,f])}),d.addRows(e);var f=new google.visualization.Table(document.getElementById("table_div"));f.draw(d,{showRowNumber:!1,allowHtml:!0}),$('.google-visualization-table-th:contains("#")').css("width","30px"),$('.google-visualization-table-th:contains("Words")').css("width","30px")}var PLUGIN_NAME="WORD_ATTACK",PLUGIN_TITLE="Word Attack",isActive=!1;google.load("visualization","1",{packages:["table"]}),$(document).ready(function(){$("#buttonNextWord").hide(),$("#buttonRevealAnswer").hide(),parent.isTeacher&&(parent.pluginToServer(PLUGIN_NAME,"TeacherOpen",{}),parent.document.plugin&&parent.document.plugin.pluginName===PLUGIN_NAME&&updateButtonLaunch(!0),$(document).on("PluginStatus",function(a,b){if(parent){var c=b.detail;switch(c.type){case"UpdatePluginStatus":updatePluginStatus(c)}}}),$(document).on("ServerToPlugin"+PLUGIN_NAME,function(a,b){if(parent){var c=b.detail;switch(c.pluginMessageType){case"StudentJoin":break;case"Results":processResults(c.data);break;case"RevealAnswer":processRevealAnswer(c.data)}}}),initWordLists()),$(document).on("click",'button[id^="buttonNextWord"]',function(){parent.pluginToServer(PLUGIN_NAME,"NextWord",{})}),$(document).on("click",'button[id^="buttonRevealAnswer"]',function(){parent.pluginToServer(PLUGIN_NAME,"RevealAnswer",{})}),$(document).on("click",'button[id^="buttonLaunch"]',function(){var a=!1;if(isActive)parent.pluginToServer(PLUGIN_NAME,"EndActivity",{}),a=!1;else{var b=$("#comboWordLists1").val(),c=$("#comboWordLists2").val();if(b===c)return void parent.bootbox.alert("Choose two different Word Lists");var d=JSON.parse(parent.$("#data-session").html()),e=_.find(d.wordLists,function(a){return a._id===b}),f=_.find(d.wordLists,function(a){return a._id===c});parent.pluginToServer(PLUGIN_NAME,"StartActivity",{wordList1:e,wordList2:f}),a=!0}updateButtonLaunch(a)})});
//# sourceMappingURL=wordAttackTeacher.min.js.map