function updatePluginStatus(a){var b=!1;a.pluginName===PLUGIN_NAME&&a.active&&(b=!0),updateButtonLaunch(b)}function updateButtonLaunch(a){isActive=a;var b=$("#buttonLaunch");a?(b.text("End "+PLUGIN_TITLE),b.removeClass("btn-success"),b.addClass("btn-danger")):(b.text("Launch "+PLUGIN_TITLE),b.removeClass("btn-danger"),b.addClass("btn-success"))}function drawBarChart(){var a=google.visualization.arrayToDataTable(pollDatas),b={vAxis:{titleTextStyle:{color:"black"}},legend:{position:"none"},chartArea:{left:"40"},hAxis:{maxValue:20}};chart=new google.visualization.BarChart(document.getElementById("pollchart")),chart.draw(a,b)}function nextChar(a){return String.fromCharCode(a.charCodeAt(0)+1)}function updatePoll(a){setGraphData(a.pollDatas),drawBarChart()}function setGraphData(a){pollDatas=a}function getNumberOfChoices(){var a=$(".js-number-choices").val();return a}function getPollType(){var a="",b=$(".js-poll-type .radio input[type='radio']:checked");return b.length>0&&(a=b.val()),a}function initializeMap(a){var b=["#00CC00","#CBCC00","#00CBCC","#0065CC","#0000CC","#6600CC","#CC00CB","#CC0065","#CC0000","#CC6600"];switch(a){case"mc":numberOfChoices=getNumberOfChoices();var c="A";pollDatas=[["choice","number of students",{role:"style"}]];for(var d=0;numberOfChoices>d;d++)pollDatas.push([c,0,b[d]]),c=nextChar(c);break;case"yn":pollDatas=[["choice","number of students",{role:"style"}]],pollDatas.push(["Yes",0,"#00CC00"],["No",0,"#CC0000"]);break;case"tf":pollDatas=[["choice","number of students",{role:"style"}]],pollDatas.push(["True",0,"#00CC00"],["False",0,"#CC0000"]);break;case"ld":pollDatas=[["choice","number of students",{role:"style"}]],pollDatas.push(["Like",0,"#00CC00"],["Dislike",0,"#CC0000"])}drawBarChart()}var PLUGIN_NAME="QUICKPOLL",PLUGIN_TITLE="Poll",isActive=!1,selectedStudentID,chart,pollDatas,pollType,numberOfChoices;google.load("visualization","1",{packages:["corechart"]}),google.setOnLoadCallback(function(){$(document).ready(function(){parent.isTeacher&&(parent.pluginToServer(PLUGIN_NAME,"TeacherOpen",{}),parent.document.plugin&&parent.document.plugin.pluginName===PLUGIN_NAME&&updateButtonLaunch(!0),$(document).on("PluginStatus",function(a,b){if(parent){var c=b.detail;switch(c.type){case"UpdatePluginStatus":updatePluginStatus(c)}}}),$(document).on("ServerToPlugin"+PLUGIN_NAME,function(a,b){if(parent){var c=b.detail;switch(c.pluginMessageType){case"StudentJoin":break;case"UpdatePoll":updatePoll(c.data)}}})),$(document).on("click",'button[id^="buttonLaunch"]',function(){if(isActive)parent.pluginToServer(PLUGIN_NAME,"EndActivity",{}),isLaunched=!1;else{initializeMap(getPollType());var a=getPollType(),b={numberOfChoices:numberOfChoices,pollType:a};parent.pluginToServer(PLUGIN_NAME,"StartActivity",b),isLaunched=!0}updateButtonLaunch(isLaunched)}),$(document).on("click",'button[id^="buttonReset"]',function(){initializeMap(getPollType());var a=getPollType();dataToSend={numberOfChoices:numberOfChoices,pollType:a},parent.pluginToServer(PLUGIN_NAME,"ResetActivity",dataToSend)})})});
//# sourceMappingURL=quickPollTeacher.min.js.map